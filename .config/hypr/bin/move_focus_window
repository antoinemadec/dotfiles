#!/usr/bin/env bash

source "$HOME/.config/hypr/bin/utils.sh"

action="$1"
direction="$2"

if [ "$action" == "move" ]; then
  if current_window_is_not_in_group ||
    (current_window_is_group_right && [ "$direction" == "r" ]) ||
    (current_window_is_group_left && [ "$direction" == "l" ]); then
    hyprctl dispatch movewindoworgroup $direction
  else
    hyprctl dispatch movegroupwindow $direction
  fi
else
  if current_workspace_has_no_window || current_window_is_not_in_group ||
    (current_window_is_group_right && [ "$direction" == "r" ]) ||
    (current_window_is_group_left && [ "$direction" == "l" ]); then
    hyprctl dispatch movefocus $direction
  else
  echo changegroupactive
    hyprctl dispatch changegroupactive $direction
  fi
fi
