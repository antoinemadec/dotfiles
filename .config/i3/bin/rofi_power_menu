#!/usr/bin/env sh

lock="ðŸ”’ lock screen"
logout="ðŸšª log out"
reboot="âž° reboot"
shut_down="ðŸ”Œ shut down"

choice="$(echo "$lock
$logout
$reboot
$shut_down" | rofi -dmenu -p "power menu")"

case "$choice" in
  "$lock")
    if [[ $DESKTOP_SESSION =~ "hyprland" ]]; then
      sleep 0.5
      __NV_PRIME_RENDER_OFFLOAD=0 hyprlock
    else
      i3lock -i ~/.config/i3/wallpaper/warm_poly.png -t
    fi
    ;;
  "$logout")
    if [[ $DESKTOP_SESSION =~ "hyprland" ]]; then
      hyprctl dispatch exit
    else
      i3-msg exit
    fi
    ;;
  "$reboot")
    systemctl reboot
    ;;
  "$shut_down")
    systemctl poweroff
    ;;
esac

