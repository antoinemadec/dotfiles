#!/bin/bash

# based on "/amb/tools/env/amb.cshrc"

source ~/bin/source/pathfuncs

export PROJECT="cv2"
export TV2_CONFIG="cv2"
export USE64BIT=1
if (( `uname -p` != "x86_64" ))
then
  echo "ERROR: cv2 environment is only supported on 64-bit machines!"
  exit 1
fi
export TV2_CONFIG="/cv2/tools2/tv2/cv2/tv2config"
export WORKDIR="/cv2/work/amadec/default"

# PATH
pre_path /${PROJECT}/tools2/local/bin
pre_path /${PROJECT}/tools2/tv2/exe
pre_path /cv1/tools2/local/bin
pre_path /cv1/tools2/tv2/exe
pre_path /a9a/tools2/local/bin
pre_path /a9a/tools2/tv2/exe
pre_path /a9s/tools2/local/bin
pre_path /a9s/tools2/tv2/exe
pre_path /a12/tools2/local/bin
pre_path /a12/tools2/tv2/exe
pre_path /a8/tools2/local/bin
pre_path /a8/tools2/tv2/exe
if [ "$HOSTNAME" = "ubu-amadec" ]
then
  # avoid overriding svn with version only working for RHEL
  add_path /amb/tools2/tv2/exe
else
  pre_path /amb/tools2/tv2/exe
fi
export PATH

# MANPATH
MANPATH=$(manpath)
pre_path /${PROJECT}/man MANPATH
pre_path /${PROJECT}/tools2/local/man MANPATH
pre_path /cv1/man MANPATH
pre_path /cv1/tools2/local/man MANPATH
pre_path /a9a/man MANPATH
pre_path /a9a/tools2/local/man MANPATH
pre_path /a9s/man MANPATH
pre_path /a9s/tools2/local/man MANPATH
pre_path /a12/tools2/local/man MANPATH
pre_path /a8/tools2/local/man MANPATH
export MANPATH

# INFOPATH
pre_path . INFOPATH
pre_path /${PROJECT}/tools2/tv2/info INFOPATH
pre_path /cv1/tools2/tv2/info INFOPATH
pre_path /a9a/tools2/tv2/info INFOPATH
pre_path /a9s/tools2/tv2/info INFOPATH
pre_path /a12/tools2/tv2/info INFOPATH
pre_path /a8/tools2/tv2/info INFOPATH
export INFOPATH

cd $WORKDIR
bash -i
